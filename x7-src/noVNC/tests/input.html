<html>
    <head><title>Input Test</title></head>
    <body>
        <br><br>

        Canvas:<br>
        <canvas id="canvas" width="640" height="20"
                style="border-style: dotted; border-width: 1px;">
            Canvas not supported.
        </canvas>

        <br>
        Results:<br>
        <textarea id="messages" style="font-size: 9;" cols=80 rows=25></textarea>
    </body>

    <!--
    <script type='text/javascript' 
        src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
    -->
    <script src="../include/util.js"></script>
    <script src="../include/webutil.js"></script> 
    <script src="../include/base64.js"></script>
    <script src="../include/canvas.js"></script>
    <script>
        var msg_cnt = 0;
        var width = 400, height = 200;
        var iterations;

        function message(str) {
            console.log(str);
            cell = $D('messages');
            cell.innerHTML += msg_cnt + ": " + str + "\n";
            cell.scrollTop = cell.scrollHeight;
        }

        function mouseButton(x, y, down, bmask) {
            msg = 'mouse x,y: ' + x + ',' + y + '  down: ' + down;
            msg += ' bmask: ' + bmask;
            console.log(msg);
            message(msg);
        }

        function mouseMove(x, y) {
            msg = 'mouse x,y: ' + x + ',' + y;
            //console.log(msg);
        }

        function keyPress(keysym, down) {
            msg = "keyPress keysym: " + keysym + " down: " + down;
            console.log(msg);
            message(msg);
        }

        window.onload = function() {
            var canvas = new Canvas({'target' : $D('canvas')});
            canvas.resize(width, height, true);
            canvas.start(keyPress, mouseButton, mouseMove);
            message("Canvas initialized");
        }
    </script>
</html>
